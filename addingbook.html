<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Add A Book</title>
  <link rel="stylesheet" href="./CSS/addingbook.css"/>
</head>
<body>
    <div id="navbar"></div>
    <div class="maincont">
        <div id="sidebar"></div>
        <div class="container">
        <h3>Add Book</h3>
        <br>
        <!-- Book Information -->
        <h5>Book Information</h5>
        <form id="addBookForm">
            <div class="row">
            <div class="col">
                <label for="bookTitle" class="required">Book Title *</label>
                <input type="text" id="bookTitle" name="bookTitle" placeholder="Book name here" required />
            </div>

            <div class="col">
                <label for="author" class="required">Author(s) *</label>
                <input type="text" id="author" name="author" placeholder="Author Name Here" required>
            </div>

            <div class="col">
                <label for="isbn">ISBN/ISSN</label>
                <input type="text" id="isbn" name="isbn">
            </div>

            <div class="col">
                <label for="category" class="required">Genre/Category *</label>
                <select id="category" name="category" required>
                    <option disabled selected>Choose a Category</option>
                    <option value="Fiction">Fiction</option>
                    <option value="Non-fiction">Non-fiction</option>
                    <option value="Science">Science</option>
                    <option value="Biography">Biography</option>
                    <option value="History">History</option>
                    <option value="Fantasy">Fantasy</option>
                    <option value="Mystery">Mystery</option>
                    <option value="Classic">Classic</option>
                    <option value="Self-help">Self-help</option>
                </select>
            </div>

            <div class="col">
                <label for="language" class="required">Language *</label>
                <select id="language" name="language" required>
                    <option disabled selected>Select from list</option>
                    <option value="English">English</option>
                    <option value="Hindi">Hindi</option>
                    <option value="Tamil">Tamil</option>
                    <option value="Spanish">Spanish</option>
                    <option value="French">French</option>
                    <option value="German">German</option>
                    <option value="Chinese">Chinese</option>
                    <option value="Arabic">Arabic</option>
                </select>
            </div>

            <div class="col">
                <label for="availableCopies">Available Copies *</label>
                <input type="number" id="availableCopies" name="availableCopies" required>
            </div>

            <div class="col">
                <label for="totalCopies" class="required">Total Copies *</label>
                <input type="number" id="totalCopies" name="totalCopies" required>
            </div>

            <div class="col">
                <label for="totalPages">Total No. of Pages</label>
                <input type="number" id="totalPages" name="totalPages">
            </div>

            <div class="col state">
                <label>Status *</label>
                <div class="form-check"><input type="radio" name="status" value="available" required> Available</div>
                <div class="form-check"><input type="radio" name="status" value="reserved" required> Reserved</div>
                <div class="form-check"><input type="radio" name="status" value="out-of-stock" required> Out of Stock</div>
            </div>

            <div class="col">
                <label for="file">File Attachment</label>
                <input type="file" id="file" name="file">
            </div>
            </div>
            <br><br>
            <!-- Features Information -->
            <h5>Features Information</h5>
            <div class="row">
            <div class="col">
                <label for="features" class="required">Book Features *</label>
                <select id="features" name="features" required>
                    <option disabled selected>Select from list</option>
                    <option value="Hardcover">Hardcover</option>
                    <option value="Paperback">Paperback</option>
                    <option value="E-book">E-book</option>
                    <option value="Audiobook">Audiobook</option>
                </select>
            </div>

            <div class="col">
                <label for="volume">Book Volume</label>
                <select id="volume" name="volume">
                    <option disabled selected>Select from list</option>
                    <option value="Volume 1">Volume 1</option>
                    <option value="Volume 2">Volume 2</option>
                    <option value="Volume 3">Volume 3</option>
                    <option value="Complete Set">Complete Set</option>
                </select>
            </div>

            <div class="col">
                <label for="publishedYear">Published Year</label>
                <input type="text" id="publishedYear" name="publishedYear" placeholder="YYYY" />
            </div>

            <div class="col">
                <label for="publishedDate">Book Published Date</label>
                <input type="date" id="publishedDate" name="publishedDate" />
            </div>
            </div>

            <button type="submit">Save Book</button>
        </form>
        </div>
    </div>

  <script>
        // Load navbar and sidebar HTML
        fetch('nav.html')
            .then(res => res.text())
            .then(data => document.getElementById('navbar').innerHTML = data);

        fetch('sidebar.html')
            .then(res => res.text())
            .then(data => document.getElementById('sidebar').innerHTML = data);

        // Handle form submission
        document.getElementById('addBookForm').addEventListener('submit', function(event) {
            event.preventDefault(); // stop form from submitting normally

            // Grab all required values
            const bookTitle = document.getElementById('bookTitle').value.trim();
            const author = document.getElementById('author').value.trim();
            const category = document.getElementById('category').value;
            const language = document.getElementById('language').value;
            const availableCopies = document.getElementById('availableCopies').value;
            const totalCopies = document.getElementById('totalCopies').value;
            const status = document.querySelector('input[name="status"]:checked');
            const features = document.getElementById('features').value;

            // Simple validation check
            if (!bookTitle) return alert('Please enter the Book Title.');
            if (!author) return alert('Please enter the Author(s).');
            if (!category) return alert('Please select a Category.');
            if (!language) return alert('Please select a Language.');
            if (!availableCopies) return alert('Please enter Available Copies.');
            if (!totalCopies) return alert('Please enter Total Copies.');
            if (!status) return alert('Please select a Status.');
            if (!features) return alert('Please select Book Features.');

            window.location.href = 'managebooks.html';
        });
</script>
</body>
</html>
